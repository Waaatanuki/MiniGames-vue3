import{_ as j}from"./index.c0a89eec.js";import{m as w,q as X,o as m,d as C,e as h,t as b,u as f,F as U,s as W}from"./vendor.14529994.js";const Y={class:"main"},q={class:"selectArea"},D=["disabled"],E=["disabled"],G=["disabled"],T=["disabled"],V=["disabled"],$=["onClick"],z={setup(H){const t=w({startFlag:0,active:0,step:0,count:10,maxCount:10,result:[],map_seed:""});function x(e){return function(){return e=Math.imul(48271,e)|0%2147483647,(e&2147483647)/2147483648}}const R=X(()=>t.result.reduce((e,s)=>Math.max(e,s),0)),y=function(e,s,o,n){const l=[],c=x(n),r=function(a,i){const u=Math.floor(c()*a),d=Math.floor(c()*i);if(!(u==0&&d==0||u==a-1&&d==i-1)){for(let _=0;_<l.length;_++)if(l[_].toString()==[u,d].toString())return!1;l.push([u,d])}};for(;;)if(l.length<o)r(e,s);else{for(let a=0;a<l.length;a++){const i=l[a];t.table[i[0]][i[1]]="\u26F0\uFE0F"}if(!O(10,10,t.table))l.length=0,t.table=new Array(10).fill(null).map(a=>new Array(10).fill(null)),t.table[0][0]="\u{1F40E}";else break}},M=function(e,s,o){t.table=new Array(10).fill(null).map(l=>new Array(10).fill(null)),t.table[0][0]="\u{1F40E}";let n=parseInt(t.map_seed);n||(n=Math.floor(Math.random()*1e6),t.map_seed=n.toString()),y(e,s,o,n)},A=function(){let e=0,s;for(let o=0;o<100;o++){const n=t.table.map(c=>c.slice());for(let c=0;c<n.length;c++)for(let r=0;r<n[0].length;r++)n[c][r]=="\u274C"&&(n[c][r]=null);L(10,10,n,10);let l;for(let c=0;c<100;c++){l=v(O(10,10,n),10,10);let r=0;for(let a=0;a<n.length;a++)for(let i=0;i<n[0].length;i++)if(n[a][i]=="\u274C"){n[a][i]=null;const u=v(O(10,10,n),10,10);l.length==u.length?r++:n[a][i]="\u274C"}L(10,10,n,r)}e<l.length-1&&(e=l.length-1,s=n)}console.log("\u53C2\u8003\u7B54\u6848:",e),console.table(s)},O=function(e,s,o){const n=o.map(a=>a.slice()),l=[[0,0]],c=[[-1,0],[1,0],[0,1],[0,-1]],r=Array.from(Array(e),a=>Array(s).fill(null));for(n[0][0]="";l.length!=0;)for(let a=0;a<l.length;a++){const i=l.shift(),u=i[0],d=i[1];for(let _=0;_<c.length;_++){const N=c[_],g=u+N[0],p=d+N[1];if(g>=0&&g<e&&p>=0&&p<s&&n[g][p]!="\u26F0\uFE0F"){if(g==e-1&&p==s-1)return n[g][p]="",r[g][p]=i,r;n[g][p]==null&&(l.push([g,p]),n[g][p]="",r[g][p]=i)}}}};M(10,10,20);const k=function(e,s,o){t.active==0&&o[9][9]!="\u{1F40E}"&&!(e==10&&s==10)&&(o[e-1][s-1]==null&&t.count>0?(o[e-1][s-1]="\u274C",t.count--):o[e-1][s-1]=="\u274C"&&t.count>=0&&(o[e-1][s-1]=null,t.count++))},L=function(e,s,o,n){const l=[],c=function(r,a){const i=Math.floor(Math.random()*r),u=Math.floor(Math.random()*a);if(!(i==0&&u==0||i==r-1&&u==a-1)&&o[i][u]!="\u26F0\uFE0F"&&o[i][u]!="\u274C"){for(let d=0;d<l.length;d++)if(l[d].toString()==[i,u].toString())return!1;l.push([i,u])}};for(;;)if(l.length<n)c(e,s);else{for(let r=0;r<l.length;r++){const a=l[r];o[a[0]][a[1]]="\u274C"}if(O(10,10,o))break;for(let r=0;r<l.length;r++){const a=l[r];o[a[0]][a[1]]=null}l.length=0}},v=function(e,s,o){const n=[[s-1,o-1]];let l=[s-1,o-1];if(e){for(;e[l[0]][l[1]]!=null;)n.push(e[l[0]][l[1]]),l=e[l[0]][l[1]];return n.reverse(),n[0].toString()==[0,0].toString()?n:[]}else return[]},F=function(){t.startFlag=1,t.active=1;const e=v(O(10,10,t.table),10,10);if(e.length>0){const s=setInterval(()=>{if(e.length>0){const o=e.shift();e.length!=0&&(t.step++,t.table[o[0]][o[1]]="",t.table[e[0][0]][e[0][1]]="\u{1F40E}")}else clearInterval(s),t.active=0,t.result.push(t.step)},100)}else alert("\u4E0D\u53EF\u4EE5\u628A\u8DEF\u5C01\u6B7B!"),t.startFlag=0,t.active=0},S=function(){t.startFlag=0,t.step=0;for(let e=0;e<t.table.length;e++)for(let s=0;s<t.table[0].length;s++)t.table[e][s]=="\u26F0\uFE0F"?t.table[e][s]="\u26F0\uFE0F":t.table[e][s]=="\u274C"?t.table[e][s]="\u274C":t.table[e][s]=null;t.table[0][0]="\u{1F40E}"},B=function(){t.map_seed="",t.startFlag=0,t.step=0,t.count=10,t.maxCount=10,t.result.length=0,M(10,10,20)},I=function(){const e=prompt("\u8F93\u5165\u5730\u56FE\u7F16\u53F7:");e!=null&&(e=="ans"?A():(t.map_seed=e,t.startFlag=0,t.step=0,t.count=10,t.maxCount=10,t.result.length=0,M(10,10,20)))},P=function(){t.startFlag=0,t.step=0;const e=prompt("\u8BBE\u7F6E\u969C\u788D\u6570\u91CF:")||98;t.maxCount=e>98?98:e,t.count=e>98?98:e,t.result.length=0,t.map_seed="",t.table=new Array(10).fill(null).map(s=>new Array(10).fill(null)),t.table[0][0]="\u{1F40E}"};return(e,s)=>(m(),C("div",Y,[h("div",null,[h("h2",null,"\u5730\u56FE\u7F16\u53F7 "+b(f(t).map_seed),1)]),h("div",q,[h("button",{onClick:F,disabled:f(t).startFlag},"\u5F00\u59CB",8,D),h("button",{onClick:S,disabled:f(t).active},"\u91CD\u6765",8,E),h("button",{onClick:B,disabled:f(t).active},"\u968F\u673A\u5730\u56FE",8,G),h("button",{onClick:I,disabled:f(t).active},"\u9009\u62E9\u5730\u56FE",8,T),h("button",{onClick:P,disabled:f(t).active},"\u81EA\u7531\u6A21\u5F0F",8,V)]),h("div",null,[h("h2",null,"\u5269\u4F59\u653E\u7F6E\u969C\u788D\u6B21\u6570\uFF1A"+b(f(t).count)+"/"+b(f(t).maxCount),1)]),h("div",null,[h("table",null,[(m(!0),C(U,null,W(f(t).table.length,o=>(m(),C("tr",null,[(m(!0),C(U,null,W(f(t).table[0].length,n=>(m(),C("td",{class:"area",onClick:l=>k(o,n,f(t).table)},b(f(t).table[o-1][n-1]),9,$))),256))]))),256))])]),h("div",null,[h("h2",null,"\u603B\u6B65\u6570\uFF1A"+b(f(t).step)+b(f(R)!=0?" \u5386\u53F2\u6700\u4F73:"+f(R)+"\u6B65":""),1)])]))}};var et=j(z,[["__scopeId","data-v-16794d3d"]]);export{et as default};
