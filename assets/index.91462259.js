import{r as Y,c as $,o as y,a as N,b as d,t as C,u as f,F as S,d as k,p as q,e as D,f as G,g as K}from"./vendor.339ac9a3.js";const T=function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))L(t);new MutationObserver(t=>{for(const h of t)if(h.type==="childList")for(const M of h.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&L(M)}).observe(document,{childList:!0,subtree:!0});function v(t){const h={};return t.integrity&&(h.integrity=t.integrity),t.referrerpolicy&&(h.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?h.credentials="include":t.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function L(t){if(t.ep)return;t.ep=!0;const h=v(t);fetch(t.href,h)}};T();var V=(b,m)=>{const v=b.__vccOpts||b;for(const[L,t]of m)v[L]=t;return v};const z=b=>(q("data-v-602de874"),b=b(),D(),b),H={class:"main"},J=z(()=>d("h1",null,"\u5730\u56FE\u7F16\u53F7",-1)),Q={class:"selectArea"},Z=["disabled"],tt=["disabled"],et=["disabled"],nt=["disabled"],lt=["disabled"],ot=["onClick"],st={setup(b){const t=Y({startFlag:0,active:0,step:0,count:10,maxCount:10,result:[],map_seed:""});function h(e){return function(){return e=Math.imul(48271,e)|0%2147483647,(e&2147483647)/2147483648}}const M=$(()=>t.result.reduce((e,o)=>Math.max(e,o),0)),F=function(e,o,s,n){const l=[],c=h(n),a=function(r,i){const u=Math.floor(c()*r),p=Math.floor(c()*i);if(!(u==0&&p==0||u==r-1&&p==i-1)){for(let O=0;O<l.length;O++)if(l[O].toString()==[u,p].toString())return!1;l.push([u,p])}};for(;;)if(l.length<s)a(e,o);else{for(let r=0;r<l.length;r++){const i=l[r];t.table[i[0]][i[1]]="\u26F0\uFE0F"}if(!R(10,10,t.table))l.length=0,t.table=new Array(10).fill(null).map(r=>new Array(10).fill(null)),t.table[0][0]="\u{1F40E}";else break}},A=function(e,o,s){t.table=new Array(10).fill(null).map(l=>new Array(10).fill(null)),t.table[0][0]="\u{1F40E}";let n=parseInt(t.map_seed);n||(n=Math.floor(Math.random()*1e6),t.map_seed=n.toString()),F(e,o,s,n)},I=function(){let e=0,o;for(let s=0;s<100;s++){const n=t.table.map(c=>c.slice());for(let c=0;c<n.length;c++)for(let a=0;a<n[0].length;a++)n[c][a]=="\u274C"&&(n[c][a]=null);U(10,10,n,10);let l;for(let c=0;c<100;c++){l=x(R(10,10,n),10,10);let a=0;for(let r=0;r<n.length;r++)for(let i=0;i<n[0].length;i++)if(n[r][i]=="\u274C"){n[r][i]=null;const u=x(R(10,10,n),10,10);l.length==u.length?a++:n[r][i]="\u274C"}U(10,10,n,a)}e<l.length-1&&(e=l.length-1,o=n)}console.log("\u53C2\u8003\u7B54\u6848:",e),console.table(o)},R=function(e,o,s){const n=s.map(r=>r.slice()),l=[[0,0]],c=[[-1,0],[1,0],[0,1],[0,-1]],a=Array.from(Array(e),r=>Array(o).fill(null));for(n[0][0]="";l.length!=0;)for(let r=0;r<l.length;r++){const i=l.shift(),u=i[0],p=i[1];for(let O=0;O<c.length;O++){const W=c[O],g=u+W[0],_=p+W[1];if(g>=0&&g<e&&_>=0&&_<o&&n[g][_]!="\u26F0\uFE0F"){if(g==e-1&&_==o-1)return n[g][_]="",a[g][_]=i,a;n[g][_]==null&&(l.push([g,_]),n[g][_]="",a[g][_]=i)}}}};A(10,10,20);const B=function(e,o,s){t.active==0&&s[9][9]!="\u{1F40E}"&&!(e==10&&o==10)&&(s[e-1][o-1]==null&&t.count>0?(s[e-1][o-1]="\u274C",t.count--):s[e-1][o-1]=="\u274C"&&t.count>=0&&(s[e-1][o-1]=null,t.count++))},U=function(e,o,s,n){const l=[],c=function(a,r){const i=Math.floor(Math.random()*a),u=Math.floor(Math.random()*r);if(!(i==0&&u==0||i==a-1&&u==r-1)&&s[i][u]!="\u26F0\uFE0F"&&s[i][u]!="\u274C"){for(let p=0;p<l.length;p++)if(l[p].toString()==[i,u].toString())return!1;l.push([i,u])}};for(;;)if(l.length<n)c(e,o);else{for(let a=0;a<l.length;a++){const r=l[a];s[r[0]][r[1]]="\u274C"}if(R(10,10,s))break;for(let a=0;a<l.length;a++){const r=l[a];s[r[0]][r[1]]=null}l.length=0}},x=function(e,o,s){const n=[[o-1,s-1]];let l=[o-1,s-1];if(e){for(;e[l[0]][l[1]]!=null;)n.push(e[l[0]][l[1]]),l=e[l[0]][l[1]];return n.reverse(),n[0].toString()==[0,0].toString()?n:[]}else return[]},P=function(){t.startFlag=1,t.active=1;const e=x(R(10,10,t.table),10,10);if(e.length>0){const o=setInterval(()=>{if(e.length>0){const s=e.shift();e.length!=0&&(t.step++,t.table[s[0]][s[1]]="",t.table[e[0][0]][e[0][1]]="\u{1F40E}")}else clearInterval(o),t.active=0,t.result.push(t.step)},100)}else alert("\u4E0D\u53EF\u4EE5\u628A\u8DEF\u5C01\u6B7B!"),t.startFlag=0,t.active=0},w=function(){t.startFlag=0,t.step=0;for(let e=0;e<t.table.length;e++)for(let o=0;o<t.table[0].length;o++)t.table[e][o]=="\u26F0\uFE0F"?t.table[e][o]="\u26F0\uFE0F":t.table[e][o]=="\u274C"?t.table[e][o]="\u274C":t.table[e][o]=null;t.table[0][0]="\u{1F40E}"},j=function(){t.map_seed="",t.startFlag=0,t.step=0,t.count=10,t.maxCount=10,t.result.length=0,A(10,10,20)},E=function(){const e=prompt("\u8F93\u5165\u5730\u56FE\u7F16\u53F7:");e!=null&&(e=="ans"?I():(t.map_seed=e,t.startFlag=0,t.step=0,t.count=10,t.maxCount=10,t.result.length=0,A(10,10,20)))},X=function(){t.startFlag=0,t.step=0;const e=prompt("\u8BBE\u7F6E\u969C\u788D\u6570\u91CF:")||98;t.maxCount=e>98?98:e,t.count=e>98?98:e,t.result.length=0,t.map_seed="--------",t.table=new Array(10).fill(null).map(o=>new Array(10).fill(null)),t.table[0][0]="\u{1F40E}"};return(e,o)=>(y(),N("div",H,[d("div",null,[J,d("h2",null,C(f(t).map_seed),1)]),d("div",Q,[d("button",{onClick:P,disabled:f(t).startFlag},"\u5F00\u59CB",8,Z),d("button",{onClick:w,disabled:f(t).active},"\u91CD\u6765",8,tt),d("button",{onClick:j,disabled:f(t).active},"\u968F\u673A\u5730\u56FE",8,et),d("button",{onClick:E,disabled:f(t).active},"\u9009\u62E9\u5730\u56FE",8,nt),d("button",{onClick:X,disabled:f(t).active},"\u81EA\u7531\u6A21\u5F0F",8,lt)]),d("div",null,[d("h2",null,"\u5269\u4F59\u653E\u7F6E\u969C\u788D\u6B21\u6570\uFF1A"+C(f(t).count)+"/"+C(f(t).maxCount),1)]),d("div",null,[d("table",null,[(y(!0),N(S,null,k(f(t).table.length,s=>(y(),N("tr",null,[(y(!0),N(S,null,k(f(t).table[0].length,n=>(y(),N("td",{class:"area",onClick:l=>B(s,n,f(t).table)},C(f(t).table[s-1][n-1]),9,ot))),256))]))),256))])]),d("div",null,[d("h2",null,"\u603B\u6B65\u6570\uFF1A"+C(f(t).step)+C(f(M)!=0?" \u5386\u53F2\u6700\u4F73:"+f(M)+"\u6B65":""),1)])]))}};var rt=V(st,[["__scopeId","data-v-602de874"]]);const at={setup(b){return(m,v)=>(y(),G(rt))}};K(at).mount("#app");
